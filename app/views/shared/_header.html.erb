<header class="border-b border-slate-800 bg-slate-900/50 backdrop-blur-md sticky top-0 z-50">
    <div class="max-w-6xl mx-auto px-3 h-14 flex items-center justify-between">
        <div class="flex items-center gap-2">
            <div class="bg-purple-600 p-2 rounded-lg shadow-lg">
                <%= heroicon "trophy", variant: :outline, options: { class: "w-5 h-5 text-white" } %>
            </div>
            <h1 class="font-bold text-xl tracking-tight hidden sm:block">LAN-O-MAT</h1>
        </div>

        <nav class="flex justify-between items-center gap-2">
            <div class="flex bg-slate-800/50 p-1 rounded-xl border border-slate-700">
                <%= link_to votes_path, class: "px-3 py-1.5 rounded-lg text-sm font-medium transition-all flex items-center gap-2 #{current_page?(votes_path) ? 'bg-purple-600 text-white shadow-lg' : 'text-slate-400 hover:text-slate-200'}" do %>
                    <%= heroicon "bolt", variant: :outline, options: { class: "w-4 h-4" } %>
                    <span class="hidden sm:inline">Voting</span>
                <% end %>
                <%= link_to games_path, class: "px-3 py-1.5 rounded-lg text-sm font-medium transition-all flex items-center gap-2 #{current_page?(games_path) ? 'bg-purple-600 text-white shadow-lg' : 'text-slate-400 hover:text-slate-200'}" do %>
                    <%= heroicon "puzzle-piece", variant: :outline, options: { class: "w-4 h-4" } %>
                    <span class="hidden sm:inline">Games</span>
                <% end %>
            </div>
        </nav>



        <div class="flex items-center gap-4">
            <% if policy(Current.game_session).update? %>
            <div class="p-1 flex gap-1">
                <!-- Settings Modal -->
                <div data-controller="modal-overlay">
                    <button data-action="modal-overlay#open" class="px-3 py-1.5 rounded-lg text-sm font-medium transition-all flex items-center gap-2 text-slate-400 hover:text-slate-200 hover:bg-slate-700" title="Settings">
                        <%= heroicon "adjustments-horizontal", variant: :outline, options: { class: "w-4 h-4" } %>
                        <span class="hidden sm:inline">Settings</span>
                    </button>
                    <%= render "shared/settings_modal" %>
                </div>
                <!-- Players Modal -->
                <div data-controller="modal-overlay">
                    <button data-action="modal-overlay#open" class="px-3 py-1.5 rounded-lg text-sm font-medium transition-all flex items-center gap-2 text-slate-400 hover:text-slate-200 hover:bg-slate-700" title="Players">
                        <%= heroicon "users", variant: :outline, options: { class: "w-4 h-4" } %>
                        <span class="hidden sm:inline">Players</span>
                    </button>
                    <%= render "shared/players_modal" %>
                </div>

            </div>
            <% end %>
            <div class="flex items-center gap-4">
                <% if current_user %>
                    <div class="hidden md:flex flex-col gap-1 items-end mr-2">
                        <span class="text-xs text-slate-400 font-mono">CODE: <span class="text-white font-bold selection:bg-purple-500"><%= current_user.game_session.code %></span></span>
                        <span class="text-sm font-medium text-white"><%= current_user.name %></span>
                    </div>
                    <%= button_to session_path, method: :delete, class: "p-2 text-slate-400 hover:text-white transition-colors", title: "Logout" do %>
                        <%= heroicon "arrow-right-on-rectangle", variant: :outline, options: { class: "w-5 h-5" } %>
                    <% end %>
                <% end %>
            </div>
        </div>
    </div>
</header>
