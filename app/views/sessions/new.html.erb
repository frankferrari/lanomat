<div class="min-h-[80vh] flex items-center justify-center">
  <div class="w-full max-w-md bg-slate-800/50 backdrop-blur-xl border border-slate-700 rounded-2xl shadow-2xl p-8">
    <div class="text-center mb-8">
      <div class="inline-flex bg-purple-600 p-3 rounded-xl shadow-lg mb-4">
        <%= heroicon "trophy", variant: :outline, options: { class: "w-8 h-8 text-white" } %>
      </div>
      <h2 class="text-2xl font-bold text-white mb-2">Welcome to LAN-O-MAT</h2>
      <p class="text-slate-400">Host or join a session to start voting</p>
    </div>

    <%= turbo_frame_tag "session_forms" do %>
        <!-- Tabs Header -->
        <div class="flex gap-2 p-1 bg-slate-900/50 rounded-xl mb-8">
            <%= link_to "Join Session", new_session_path(tab: "join"), 
                class: "flex-1 py-2 px-4 rounded-lg text-sm font-medium transition-all text-center #{ @tab == 'join' ? 'bg-slate-700 text-white shadow-sm' : 'text-slate-400 hover:text-slate-200' }" %>
            
            <%= link_to "Host Session", new_session_path(tab: "host"), 
                class: "flex-1 py-2 px-4 rounded-lg text-sm font-medium transition-all text-center #{ @tab == 'host' ? 'bg-slate-700 text-white shadow-sm' : 'text-slate-400 hover:text-slate-200' }" %>
        </div>

        <!-- content -->
        <% if @tab == "host" %>
             <!-- Host Panel -->
             <div>
                <%= form_with url: create_host_session_path, method: :post, class: "space-y-4", data: { turbo_frame: "_top" } do |f| %>
                    <div>
                    <%= f.label :name, "Your Name", class: "block text-sm font-medium text-slate-300 mb-1" %>
                    <%= f.text_field :name,
                        required: true,
                        autocomplete: "off",
                        placeholder: "Enter user name...", 
                        class: "w-full bg-slate-900/50 border border-slate-700 rounded-xl px-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent" %>
                    </div>

                    <%= f.button class: "w-full bg-emerald-600 hover:bg-emerald-500 text-white font-bold py-3 px-4 rounded-xl transition-colors shadow-lg shadow-emerald-900/20 flex items-center justify-center gap-2" do %>
                    Create Session
                    <%= heroicon "plus", variant: :mini, options: { class: "w-5 h-5" } %>
                    <% end %>
                <% end %>
             </div>
        <% else %>
            <!-- Join Panel -->
            <div>
              <%= form_with url: create_join_session_path, method: :post, class: "space-y-4", data: { turbo_frame: "_top" } do |f| %>
                <div>
                  <%= f.label :code, "Session Code", class: "block text-sm font-medium text-slate-300 mb-1" %>
                  <%= f.text_field :code, 
                      value: params[:code], 
                      required: true,
                      autocomplete: "off",
                      placeholder: "AAAAA",
                      class: "w-full bg-slate-900/50 border border-slate-700 rounded-xl px-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent text-center tracking-widest uppercase font-mono text-lg" %>
                </div>

                <div>
                  <%= f.label :name, "Your Name", class: "block text-sm font-medium text-slate-300 mb-1" %>
                  <%= f.text_field :name,
                      value: params[:name],
                      required: true,
                      autocomplete: "off",
                      placeholder: "Enter user name...", 
                      class: "w-full bg-slate-900/50 border border-slate-700 rounded-xl px-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent" %>
                </div>

                <%= f.button class: "w-full bg-purple-600 hover:bg-purple-500 text-white font-bold py-3 px-4 rounded-xl transition-colors shadow-lg shadow-purple-900/20 flex items-center justify-center gap-2" do %>
                  Join Session
                  <%= heroicon "arrow-right", variant: :mini, options: { class: "w-5 h-5" } %>
                <% end %>
              <% end %>
            </div>
        <% end %>
    <% end %>
  </div>
</div>
